// sprites.js â€” ForkArcade pixel art sprites
// Wygenerowany z _sprites.json przez create_sprite tool
// Mozesz edytowac recznie, ale pamietaj o formacie.

var SPRITE_DEFS = {
  "terrain": {
    "grass": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#5a8c3c",
        "2": "#4a7a2c",
        "3": "#6a9c4c"
      },
      "pixels": [
        "11211121",
        "12111211",
        "11121112",
        "21111121",
        "11211111",
        "11112112",
        "12111211",
        "11121111"
      ]
    },
    "forest": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#2d5a1e",
        "2": "#3a6a28",
        "3": "#1a4010",
        "4": "#5a3a1a"
      },
      "pixels": [
        "..2..2..",
        "..22.22.",
        ".222222.",
        "22122122",
        ".212212.",
        "..2..2..",
        "..4..4..",
        "..4..4.."
      ]
    },
    "water": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#2a6a9a",
        "2": "#3a8aba",
        "3": "#4a9aca",
        "4": "#1a5a8a"
      },
      "pixels": [
        "11211121",
        "12321232",
        "23132313",
        "31213121",
        "12321232",
        "23132313",
        "31213121",
        "11211121"
      ]
    },
    "castle": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#8a6a3a",
        "2": "#a88a5a",
        "3": "#6a4a2a",
        "4": "#ddb866"
      },
      "pixels": [
        "1.1111.1",
        "1.1441.1",
        "111441.1",
        "14444441",
        "11111111",
        "13311331",
        "13311331",
        "11111111"
      ]
    },
    "mountain": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#7a7a7a",
        "2": "#9a9a9a",
        "3": "#ffffff",
        "4": "#5a5a5a"
      },
      "pixels": [
        "....3...",
        "...321..",
        "..32211.",
        "..32114.",
        ".321144.",
        "3211444.",
        "11144441",
        "44444444"
      ]
    },
    "road": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#ba8",
        "2": "#a97",
        "3": "#987"
      },
      "pixels": [
        "11211121",
        "12131213",
        "21312131",
        "13121312",
        "12131213",
        "21312131",
        "13121312",
        "11211121"
      ]
    }
  },
  "units": {
    "warrior": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#44c",
        "2": "#66e",
        "3": "#aaa",
        "4": "#fff",
        "5": "#fda"
      },
      "pixels": [
        "..3334..",
        "..5554..",
        "..555...",
        "3122213.",
        "31222133",
        ".12221..",
        "..11.1..",
        "..1..1.."
      ]
    },
    "archer": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#44c",
        "2": "#66e",
        "3": "#8b5a2b",
        "4": "#fff",
        "5": "#fda"
      },
      "pixels": [
        "..444...",
        "..555...",
        "..555.3.",
        ".12221.3",
        ".12221.3",
        ".12221.3",
        "..1..1..",
        "..1..1.."
      ]
    },
    "mage": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#63c",
        "2": "#84e",
        "3": "#fd4",
        "4": "#fff",
        "5": "#fda"
      },
      "pixels": [
        "..444..3",
        "..555..3",
        "..555.33",
        ".12221.3",
        ".12221..",
        ".11211..",
        "..1..1..",
        "..1..1.."
      ]
    },
    "healer": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#44c",
        "2": "#66e",
        "3": "#4f4",
        "4": "#fff",
        "5": "#fda"
      },
      "pixels": [
        "..444...",
        "..555...",
        "..555...",
        ".12221..",
        ".13321..",
        ".13321..",
        "..1..1..",
        "..1..1.."
      ]
    }
  },
  "ui": {
    "selectCursor": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#fd4",
        "2": "#ffa"
      },
      "pixels": [
        "11111111",
        "1......1",
        "1......1",
        "1......1",
        "1......1",
        "1......1",
        "1......1",
        "11111111"
      ]
    },
    "moveRange": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#4af",
        "2": "#28c"
      },
      "pixels": [
        "..1111..",
        ".1....1.",
        "1......1",
        "1......1",
        "1......1",
        "1......1",
        ".1....1.",
        "..1111.."
      ]
    },
    "attackRange": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#f44",
        "2": "#c22"
      },
      "pixels": [
        "..1111..",
        ".1....1.",
        "1......1",
        "1......1",
        "1......1",
        "1......1",
        ".1....1.",
        "..1111.."
      ]
    }
  },
  "effects": {
    "attack": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#f44",
        "2": "#fa0",
        "3": "#ff0"
      },
      "pixels": [
        "1......1",
        ".1....2.",
        "..1.23..",
        "...32...",
        "...23...",
        "..32.1..",
        ".2....1.",
        "1......1"
      ]
    },
    "heal": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#4f4",
        "2": "#8f8",
        "3": "#fff"
      },
      "pixels": [
        "...12...",
        "...12...",
        "..1123..",
        "11112331",
        "11112331",
        "..1123..",
        "...12...",
        "...12..."
      ]
    },
    "buff": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#fd4",
        "2": "#ffa",
        "3": "#fff"
      },
      "pixels": [
        "...1....",
        "3..1..3.",
        ".3.1.3..",
        "..313...",
        "11131111",
        "..313...",
        ".3.1.3..",
        "3..1..3."
      ]
    }
  },
  "items": {
    "weapon": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#aaa",
        "2": "#ddd",
        "3": "#8b5a2b"
      },
      "pixels": [
        "......12",
        ".....12.",
        "....12..",
        "...12...",
        "..12....",
        ".123....",
        ".33.....",
        ".3......"
      ]
    },
    "armor": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#aaa",
        "2": "#ccc",
        "3": "#888"
      },
      "pixels": [
        "..1111..",
        ".122221.",
        "12222221",
        "12233221",
        "12233221",
        ".122221.",
        ".122221.",
        "..1111.."
      ]
    },
    "potion": {
      "w": 8,
      "h": 8,
      "palette": {
        "1": "#c44",
        "2": "#f66",
        "3": "#aaa"
      },
      "pixels": [
        "..3333..",
        "..3..3..",
        "...33...",
        "..1111..",
        ".112211.",
        ".112211.",
        ".111111.",
        "..1111.."
      ]
    }
  }
}

function drawSprite(ctx, spriteDef, x, y, size) {
  if (!spriteDef) return false
  var pw = size / spriteDef.w
  var ph = size / spriteDef.h
  for (var row = 0; row < spriteDef.h; row++) {
    var line = spriteDef.pixels[row]
    for (var col = 0; col < spriteDef.w; col++) {
      var ch = line[col]
      if (ch === ".") continue
      var color = spriteDef.palette[ch]
      if (!color) continue
      ctx.fillStyle = color
      ctx.fillRect(x + col * pw, y + row * ph, Math.ceil(pw), Math.ceil(ph))
    }
  }
  return true
}

function getSprite(category, name) {
  return SPRITE_DEFS[category] && SPRITE_DEFS[category][name] || null
}
