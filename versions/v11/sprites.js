// sprites.js â€” ForkArcade pixel art sprites
// Generated from _sprites.json by create_sprite tool

var SPRITE_DEFS = {
  "units": {
    "warrior": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#2a3a8c",
        "2": "#3a4ebc",
        "3": "#5068dd",
        "4": "#ffccaa",
        "5": "#e8b898",
        "6": "#888899",
        "7": "#aaaabb",
        "8": "#ccccdd",
        "9": "#553311"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......444.......",
          ".....45554......",
          ".....45554......",
          ".....44444......",
          "......678.......",
          "..8..12221..8...",
          ".887.12321.788..",
          ".877612221.778..",
          "..77122221677...",
          "...6122221.6....",
          "...1122221.1....",
          "....12..21......",
          "....12..21......",
          "....12..21......",
          "...112..211.....",
          "...99....99....."
        ]
      ]
    },
    "archer": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#2a3a8c",
        "2": "#3a4ebc",
        "3": "#5068dd",
        "4": "#ffccaa",
        "5": "#e8b898",
        "6": "#885522",
        "7": "#aa7733",
        "8": "#44aa44",
        "9": "#553311"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......888.......",
          ".....84448......",
          ".....44544......",
          ".....44444......",
          "......455.......",
          ".....12221.7....",
          "....112321.77...",
          "....112221..7...",
          "....122221..7...",
          "...1122221..7...",
          "...1122221.7....",
          "....12..21.7....",
          "....12..21......",
          "....12..21......",
          "...112..211.....",
          "...99....99....."
        ]
      ]
    },
    "mage": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#4a1a8c",
        "2": "#6a3abc",
        "3": "#8a5add",
        "4": "#ffccaa",
        "5": "#e8b898",
        "6": "#ffdd44",
        "7": "#ffee88",
        "8": "#8844aa",
        "9": "#553311"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......67........",
          ".....668........",
          "....66688.......",
          "....844448......",
          "....445544......",
          "....444444......",
          ".....4554.......",
          ".6..112221......",
          ".67.112321......",
          "..6.112221......",
          "....122221......",
          "...1122221......",
          "....12..21......",
          "....12..21......",
          "...112..211.....",
          "...99....99....."
        ]
      ]
    },
    "healer": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#ddddee",
        "2": "#bbbbcc",
        "3": "#ffffff",
        "4": "#ffccaa",
        "5": "#e8b898",
        "6": "#44cc44",
        "7": "#66ee66",
        "8": "#aaaabb",
        "9": "#553311"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......333.......",
          ".....34443......",
          ".....44544......",
          ".....44444......",
          "......455.......",
          ".....12221......",
          "....112621......",
          "....112621......",
          "...1126621......",
          "...1122221......",
          "...1122221......",
          "....12..21......",
          "....12..21......",
          "....12..21......",
          "...112..211.....",
          "...99....99....."
        ]
      ]
    }
  },
  "terrain": {
    "grass": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#4a7a2c",
        "2": "#5a9c3c",
        "3": "#6aac4c",
        "4": "#3a6a1c"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "2212221322122213",
          "1221312212213122",
          "2122213221222132",
          "2213122121312212",
          "1221222132212221",
          "2132212213222122",
          "2221312212212213",
          "1312221322132212",
          "2212213221221322",
          "2122132212213122",
          "1322122132212212",
          "2213221221322132",
          "2122213212221221",
          "1221322132213122",
          "2213122121222132",
          "2132212212213221"
        ],
        [
          "1322132212213221",
          "2213221322132213",
          "2122213221222132",
          "3122122132213122",
          "2213221221322212",
          "1221312212213122",
          "2132221322122213",
          "2212213221312212",
          "1221322132212221",
          "2213122121222132",
          "2122213212213221",
          "1312221322132212",
          "2221312212212213",
          "2132212213222122",
          "1221222132212221",
          "2213122121312212"
        ],
        [
          "2132212213221322",
          "2221322132212213",
          "1312212221322132",
          "2213221322122212",
          "1221312212213122",
          "2122213221222132",
          "2213122121312212",
          "1221222132212221",
          "2132212213222122",
          "2212221322122213",
          "1221312212213122",
          "2122213221222132",
          "2213122121312212",
          "1322122132212212",
          "2213221221322132",
          "2122213212221221"
        ]
      ]
    },
    "forest": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#1a3a0e",
        "2": "#256818",
        "3": "#308020",
        "4": "#4a9a30",
        "5": "#5a3a1a",
        "6": "#6a4a2a"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......122.......",
          ".....12232......",
          "....1223321.....",
          "...122332211....",
          "..12233221121...",
          ".122321112232...",
          "1223211.123321..",
          "12321...1233211.",
          ".121....12321...",
          "..5......656....",
          "..5......565....",
          "..5......556....",
          "..5......556....",
          "..5......556....",
          "..5......556....",
          "..5......556...."
        ],
        [
          "...122..........",
          "..12232.....12..",
          ".1223321...1223.",
          "12233221..12332.",
          "12332211.123321.",
          ".1232111.12321..",
          ".1211...123211..",
          ".........1221...",
          ".........121....",
          "..5......656....",
          "..5......565....",
          "..5......556....",
          "..5......556....",
          "..5......556....",
          "..5......556....",
          "..5......556...."
        ],
        [
          "....122.....12..",
          "...12232...1223.",
          "..1223321.12332.",
          ".122332211233211",
          ".123321112321...",
          "..12321.1221....",
          "...121..121.....",
          "................",
          "................",
          "..5......656....",
          "..5......565....",
          "..5......556....",
          "..5......556....",
          "..5......556....",
          "..5......556....",
          "..5......556...."
        ]
      ]
    },
    "mountain": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#4a4a4a",
        "2": "#6a6a6a",
        "3": "#8a8a8a",
        "4": "#aaaaaa",
        "5": "#ddeeff",
        "6": "#ffffff"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          ".......56.......",
          "......5543......",
          ".....554432.....",
          "....5544321.....",
          "...55443211.....",
          "..554432111.....",
          ".5544321112.....",
          "55443211123.....",
          "5443211123.56...",
          "443211123.5543..",
          "43211123.55432..",
          "3211123.554321..",
          "211123.5543211..",
          "11123.55432111..",
          "1123.554321112..",
          "123.5543211123.."
        ],
        [
          "..........56....",
          ".........5543...",
          "........554432..",
          ".......5544321..",
          "......55443211..",
          ".....554432111..",
          "....5544321112..",
          "...55443211123..",
          "..554432111234..",
          ".5544321112345..",
          "55443211123.56..",
          "5443211123.5543.",
          "443211123.55432.",
          "43211123.554321.",
          "3211123.5543211.",
          "211123.55432111."
        ],
        [
          "....56.....56...",
          "...5543...5543..",
          "..554432.554432.",
          ".55443215544321.",
          "554432115543211.",
          "54432111543211..",
          "4432111.43211...",
          "432111..3211....",
          "32111...211.....",
          "2111....11......",
          "111.............",
          "1...............",
          "................",
          "................",
          "................",
          "................"
        ]
      ]
    },
    "water": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#1a4a7a",
        "2": "#2a6a9a",
        "3": "#3a8aba",
        "4": "#5abadd",
        "5": "#7adaff"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "1122112233221122",
          "2211223311223322",
          "1122331122112233",
          "2233112211223311",
          "3311221122331122",
          "1122112233112211",
          "2233221122112233",
          "1122112211223311",
          "2211223322112233",
          "1122331122331122",
          "2233112211221122",
          "3322112233112233",
          "1122233112211223",
          "2211122233221122",
          "1122112211223322",
          "2233221122112233"
        ],
        [
          "2233221122112233",
          "1122112233221122",
          "2211223311223322",
          "1122331122112233",
          "2233112211223311",
          "3311221122331122",
          "1122112233112211",
          "2233221122112233",
          "1122112211223311",
          "2211223322112233",
          "1122331122331122",
          "2233112211221122",
          "3322112233112233",
          "1122233112211223",
          "2211122233221122",
          "1122112211223322"
        ],
        [
          "3311221122331122",
          "2233221122112233",
          "1122112233221122",
          "2211223311223322",
          "1122331122112233",
          "2233112211223311",
          "3311221122331122",
          "1122112233112211",
          "2233221122112233",
          "1122112211223311",
          "2211223322112233",
          "1122331122331122",
          "2233112211221122",
          "3322112233112233",
          "1122233112211223",
          "2211122233221122"
        ]
      ]
    },
    "castle": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#6a5a3a",
        "2": "#8a7a5a",
        "3": "#aa9a7a",
        "4": "#ccbb88",
        "5": "#332211",
        "6": "#ffcc44"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "1.1..4444..1.1..",
          "111.444444.111..",
          "121.4.44.4.121..",
          "121.444444.121..",
          "1214444444.121..",
          "1212222222.121..",
          "1212333322.121..",
          "1212333322.121..",
          "1212333322.121..",
          "1212.55.22.121..",
          "1212.55.22.121..",
          "1212.55.221121..",
          "1211222222.121..",
          "1111111111.111..",
          "1111111111.111..",
          "1111111111.111.."
        ]
      ]
    },
    "road": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#8a7a58",
        "2": "#a89868",
        "3": "#c0b080",
        "4": "#706040"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "2212221122122211",
          "1221312212213122",
          "2122112221222112",
          "2213122121312212",
          "1221222132212221",
          "2112212213222122",
          "2221312212212213",
          "1312221122132212",
          "2212213221221122",
          "2122132212213122",
          "1122122132212212",
          "2213221221122132",
          "2122213212221221",
          "1221122132213122",
          "2213122121222112",
          "2132212212213221"
        ],
        [
          "1312221122132212",
          "2212221122122211",
          "1221312212213122",
          "2122112221222112",
          "2213122121312212",
          "1221222132212221",
          "2112212213222122",
          "2221312212212213",
          "1312221122132212",
          "2212213221221122",
          "2122132212213122",
          "1122122132212212",
          "2213221221122132",
          "2122213212221221",
          "1221122132213122",
          "2213122121222112"
        ],
        [
          "2122112221222112",
          "1312221122132212",
          "2212221122122211",
          "1221312212213122",
          "2122112221222112",
          "2213122121312212",
          "1221222132212221",
          "2112212213222122",
          "2221312212212213",
          "1312221122132212",
          "2212213221221122",
          "2122132212213122",
          "1122122132212212",
          "2213221221122132",
          "2122213212221221",
          "1221122132213122"
        ]
      ]
    }
  },
  "ui": {
    "selectCursor": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#ffdd44",
        "2": "#ffee88"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "1111111111111111",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1111111111111111"
        ],
        [
          "2222222222222222",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2..............2",
          "2222222222222222"
        ]
      ]
    },
    "moveRange": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#44aaff"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......1111......",
          "....11....11....",
          "..11........11..",
          ".1............1.",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          ".1............1.",
          "..11........11..",
          "....11....11....",
          "......1111......"
        ]
      ]
    },
    "attackRange": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#ff4444"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......1111......",
          "....11....11....",
          "..11........11..",
          ".1............1.",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          "1..............1",
          ".1............1.",
          "..11........11..",
          "....11....11....",
          "......1111......"
        ]
      ]
    }
  },
  "items": {
    "weapon": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#aaaaaa",
        "2": "#cccccc",
        "3": "#eeeeee",
        "4": "#8b5a2b",
        "5": "#aa7744"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "..............32",
          ".............321",
          "............321.",
          "...........321..",
          "..........321...",
          ".........321....",
          "........321.....",
          ".......321......",
          "......321.......",
          ".....321........",
          "....3214........",
          "...321.4........",
          "..321.45........",
          ".321..45........",
          "..1...54........",
          "......5........."
        ]
      ]
    },
    "armor": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#666677",
        "2": "#888899",
        "3": "#aaaabb",
        "4": "#ccccdd"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "....222222......",
          "...23333332.....",
          "..2334443321....",
          "..2344444321....",
          "..2344444321....",
          "..2344444321....",
          "..2334443321....",
          "...23333321.....",
          "...23333321.....",
          "....2333321.....",
          "....2333321.....",
          ".....233321.....",
          ".....233321.....",
          "......23321.....",
          "......2321......",
          ".......21......."
        ]
      ]
    },
    "potion": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#aa2222",
        "2": "#dd3333",
        "3": "#ff5555",
        "4": "#888888",
        "5": "#aaaaaa"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......45........",
          "......45........",
          ".....4554.......",
          ".....4..4.......",
          "....4....4......",
          "....4....4......",
          "...41222214.....",
          "...12233221.....",
          "..1223332211....",
          "..1233332211....",
          "..1233332211....",
          "..1223332211....",
          "..1222332211....",
          "...12222211.....",
          "...11222111.....",
          "....111111......"
        ]
      ]
    }
  },
  "effects": {
    "attack": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#ff2200",
        "2": "#ff6600",
        "3": "#ffaa00",
        "4": "#ffdd44"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "1..............1",
          ".2............2.",
          "..3..........3..",
          "..............4.",
          "....4....4......",
          ".....3..3.......",
          "......23........",
          "......32........",
          "......23........",
          ".....3..3.......",
          "....4....4......",
          ".4..............",
          "..3..........3..",
          ".2............2.",
          "1..............1",
          "................"
        ],
        [
          "....1......1....",
          ".....2....2.....",
          "......3..3......",
          "......4..4......",
          "....3......3....",
          "...2........2...",
          "..1..........1..",
          "..1..........1..",
          "..1..........1..",
          "...2........2...",
          "....3......3....",
          "......4..4......",
          "......3..3......",
          ".....2....2.....",
          "....1......1....",
          "................"
        ]
      ]
    },
    "heal": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#22aa22",
        "2": "#44dd44",
        "3": "#88ff88",
        "4": "#ffffff"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......12........",
          "......12........",
          "......12........",
          "......12........",
          "......12........",
          "...11112111.....",
          "...22223222.....",
          "...11112111.....",
          "......12........",
          "......12........",
          "......12........",
          "......12........",
          "......12........",
          "................",
          "................",
          "................"
        ],
        [
          "4.....12.....4..",
          "......12........",
          "......12........",
          "......12........",
          "......12........",
          "...11112111.....",
          "...22223222.....",
          "...11112111.....",
          "......12........",
          "......12........",
          "......12........",
          "......12........",
          "4.....12.....4..",
          "................",
          "................",
          "................"
        ]
      ]
    },
    "buff": {
      "w": 16,
      "h": 16,
      "palette": {
        "1": "#ffdd44",
        "2": "#ffee88",
        "3": "#ffffff"
      },
      "origin": [
        0,
        0
      ],
      "frames": [
        [
          "......1.........",
          "3.....1.....3...",
          "......1.........",
          "......1.........",
          "......1.........",
          "..3111111113....",
          "111112221111....",
          "..3111111113....",
          "......1.........",
          "......1.........",
          "......1.........",
          "3.....1.....3...",
          "......1.........",
          "................",
          "................",
          "................"
        ],
        [
          "..3...1...3.....",
          "......1.........",
          "......1.........",
          "......1.........",
          "......1.........",
          "..3111111113....",
          "111112221111....",
          "..3111111113....",
          "......1.........",
          "......1.........",
          "......1.........",
          "......1.........",
          "..3...1...3.....",
          "................",
          "................",
          "................"
        ]
      ]
    }
  }
}

function drawSprite(ctx, spriteDef, x, y, size, frame) {
  if (!spriteDef) return false
  frame = frame || 0
  frame = frame % spriteDef.frames.length
  var key = size + '_' + frame
  if (!spriteDef._c) spriteDef._c = {}
  if (!spriteDef._c[key]) {
    var cv = document.createElement('canvas')
    cv.width = size
    cv.height = size
    var cc = cv.getContext('2d')
    var pixels = spriteDef.frames[frame]
    var pw = size / spriteDef.w
    var ph = size / spriteDef.h
    for (var row = 0; row < spriteDef.h; row++) {
      var line = pixels[row]
      for (var col = 0; col < spriteDef.w; col++) {
        var ch = line[col]
        if (ch === ".") continue
        var color = spriteDef.palette[ch]
        if (!color) continue
        cc.fillStyle = color
        cc.fillRect(col * pw, row * ph, Math.ceil(pw), Math.ceil(ph))
      }
    }
    spriteDef._c[key] = cv
  }
  var ox = spriteDef.origin[0] * (size / spriteDef.w)
  var oy = spriteDef.origin[1] * (size / spriteDef.h)
  ctx.drawImage(spriteDef._c[key], x - ox, y - oy)
  return true
}

function getSprite(category, name) {
  return SPRITE_DEFS[category] && SPRITE_DEFS[category][name] || null
}

function spriteFrames(spriteDef) {
  return spriteDef ? spriteDef.frames.length : 0
}
